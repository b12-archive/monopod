#! /usr/bin/env node

const commander = require('commander');
const customHelp = require('./_/customHelp');
const bold = require('chalk').bold;
const spawnSync = require('child_process').spawnSync;

const program = commander

  // Command
  .arguments('<command>',
    `Available commands: ${['bootstrap'].map(bold).join(', ')}.`
  )
  .action((command) => {
    spawnSync(
      `${__dirname}/monopod-${command}`,
      process.argv.slice(3),
      { stdio: 'inherit' }
    );
    process.exit();
  })

  // Parse options
  .option('-h, --help',
    'Youâ€™re looking at it.'
  )
  .parse(process.argv);

// Custom `--help`
customHelp({ program, binary: 'monopod' });
